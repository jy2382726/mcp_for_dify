# ACCEPTANCE_text_splitter

## 1. 任务执行记录
| Task ID | 描述 | 状态 | 完成时间 | 备注 |
| --- | --- | --- | --- | --- |
| Task 1 | 重构 TextSplitterService 逻辑 | 已完成 | 2025-12-23 | 实现了结构化优先、原子保护和动态大小限制 |
| Task 2 | 实现超大内容切分逻辑 | 已完成 | 2025-12-23 | 针对超大图片和表格实现了按段/行切分 |
| Task 3 | 验证与测试 | 已完成 | 2025-12-23 | 编写并运行了测试脚本，覆盖了所有边界情况 |
| Task 4 | 恢复 HTML 表格转换 | 已完成 | 2025-12-23 | 重新实现了简单的 HTML 表格转 Markdown |
| Task 5 | 支持动态分隔符 | 已完成 | 2025-12-23 | 支持 parent_separator 和 sub_separator 动态传入 |

## 2. 验证结果
*   **普通情况**: 默认参数下，文档被合理切分为 <1280 的块，且保留了章节结构。
*   **小限制情况**: 设置 parent=500，所有块均被限制在 500 以内。
*   **超大图片**: 1500+ 字符的图片描述被正确切分为多个带前缀的段落，且保留了语义。
*   **超大表格**: 1500+ 字符的表格被按行切分为多个合法的 Markdown 表格。
*   **原子性保护**: 普通大小的图片和表格未被切断。

## 3. 结论
功能实现完全符合需求，通过验收。
